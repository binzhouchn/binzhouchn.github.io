---
title: '支付宝 AR 红包破解'
layout: post
tags:
  - daily
category: Daily
---
网上有好多支付宝的 AR 红包的破解方法，试了一下都不尽人意，所以自己撸了一下简单的。

<!--more-->

破解的想法非常简单：

 * 遍历每一行，求 RGB 值的方差。
 * 如果方差小于某个阈值则该行为小横条，用上面几行替换。

网上还有好多其他的方法，比如先手工获得小横条位置、识别小横条的灰色，我就不折腾了。

最后的效果没有那么好，有些识别不出来，亮色点的图片识别率会高一点。我识别出了周围的4个红包，还是挺麻烦的，玩玩就好。

代码如下：

{% gist 02683accd59e309d574e9b499edafc7d %}